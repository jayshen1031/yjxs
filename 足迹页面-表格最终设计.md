# è¶³è¿¹é¡µé¢ - è¡¨æ ¼æœ€ç»ˆè®¾è®¡

## ğŸ“± å®Œæ•´é¡µé¢è®¾è®¡

```
â”Œâ”€ ğŸ“… 2025å¹´11æœˆ16æ—¥ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [â—€ å‰ä¸€å¤©] [é€‰æ‹©æ—¥æœŸ] [åä¸€å¤© â–¶] [ä»Šå¤©]                 â”‚
â”‚                                                          â”‚
â”‚ ğŸ“Š ä»Šæ—¥ç»Ÿè®¡                                               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ æ€»æ—¶é•¿: 5.5h â”‚ ç³»ç»Ÿç›®æ ‡: 3.5h â”‚ æ¯æ—¥äº‹é¡¹: 1.5h       â”‚ â”‚
â”‚ â”‚ æµæ°´è´¦: 0.5h â”‚ æ´»åŠ¨æ•°: 6      â”‚                      â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                          â”‚
â”‚ â±ï¸ ä»Šæ—¥æ´»åŠ¨æ˜ç»†ï¼ˆæŒ‰æ—¶é—´æ’åºï¼‰                             â”‚
â”‚ â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”           â”‚
â”‚ â”‚å§‹ â”‚ç»ˆ â”‚ æ´»åŠ¨     â”‚ å…³è”     â”‚çŠ¶æ€â”‚æ—¶é•¿â”‚æ“ä½œâ”‚           â”‚
â”‚ â”œâ”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¤           â”‚
â”‚ â”‚07 â”‚07 â”‚ æ™¨è·‘     â”‚ğŸ’ªå‡é‡    â”‚25.5â”‚30 â”‚âœï¸ğŸ—‘â”‚           â”‚
â”‚ â”‚:00â”‚:30â”‚          â”‚          â”‚/100â”‚minâ”‚   â”‚           â”‚
â”‚ â”‚   â”‚   â”‚          â”‚          â”‚h   â”‚   â”‚   â”‚           â”‚
â”‚ â”œâ”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¤           â”‚
â”‚ â”‚09 â”‚10 â”‚å†™é¡¹ç›®æŠ¥å‘Šâ”‚âœ…æŠ¥å‘Š    â”‚âœ…å·² â”‚90 â”‚âœï¸ğŸ—‘â”‚           â”‚
â”‚ â”‚:00â”‚:30â”‚          â”‚ğŸ“šå·¥ä½œ    â”‚å®Œæˆâ”‚minâ”‚   â”‚           â”‚
â”‚ â”œâ”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¤           â”‚
â”‚ â”‚10 â”‚11 â”‚å–å’–å•¡    â”‚          â”‚-   â”‚30 â”‚âœï¸ğŸ—‘â”‚           â”‚
â”‚ â”‚:30â”‚:00â”‚          â”‚          â”‚    â”‚minâ”‚   â”‚           â”‚
â”‚ â”œâ”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¤           â”‚
â”‚ â”‚14 â”‚16 â”‚å­¦æ—¥è¯­è¯­æ³•â”‚ğŸ¯N2æ—¥è¯­  â”‚122 â”‚120â”‚âœï¸ğŸ—‘â”‚           â”‚
â”‚ â”‚:00â”‚:00â”‚          â”‚ğŸ“šæ—¥è¯­    â”‚/500â”‚minâ”‚   â”‚           â”‚
â”‚ â”‚   â”‚   â”‚          â”‚          â”‚h   â”‚   â”‚   â”‚           â”‚
â”‚ â”œâ”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¤           â”‚
â”‚ â”‚16 â”‚17 â”‚å›å¤é‚®ä»¶  â”‚âœ…é‚®ä»¶    â”‚â–¶ï¸è¿› â”‚60 â”‚âœï¸ğŸ—‘â”‚           â”‚
â”‚ â”‚:00â”‚:00â”‚          â”‚          â”‚è¡Œä¸­â”‚minâ”‚   â”‚           â”‚
â”‚ â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜           â”‚
â”‚                                                          â”‚
â”‚ [+ æ·»åŠ æ´»åŠ¨]                                              â”‚
â”‚                                                          â”‚
â”‚ ğŸ’¡ æç¤ºï¼š                                                 â”‚
â”‚ â€¢ ç³»ç»Ÿç›®æ ‡æ˜¾ç¤ºè¿›åº¦ï¼ˆå¦‚ï¼š122/500hï¼‰                        â”‚
â”‚ â€¢ æ¯æ—¥äº‹é¡¹æ˜¾ç¤ºçŠ¶æ€ï¼ˆè¿›è¡Œä¸­/å·²å®Œæˆï¼‰                       â”‚
â”‚ â€¢ æµæ°´è´¦ä¸æ˜¾ç¤ºçŠ¶æ€                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š çŠ¶æ€åˆ—æ˜¾ç¤ºè§„åˆ™

### 1. ç³»ç»Ÿç›®æ ‡ï¼ˆğŸ¯ï¼‰- æ˜¾ç¤ºè¿›åº¦å˜åŒ–

**æ ¼å¼**ï¼š`å½“å‰/ç›®æ ‡ å•ä½`

**ç¤ºä¾‹**ï¼š
```
è®°å½•å‰ï¼š120/500h
    â†“ è®°å½•2å°æ—¶
è®°å½•åï¼š122/500h
```

**æ˜¾ç¤ºé€»è¾‘**ï¼š
```javascript
if (activity.Activity_Type === 'ç³»ç»Ÿç›®æ ‡') {
  const goal = getGoal(activity.Related_Goal)
  return `${goal.Current_Hours}/${goal.Target_Hours}h`
}
```

### 2. æ¯æ—¥äº‹é¡¹ï¼ˆâœ…ï¼‰- æ˜¾ç¤ºå¾…åŠçŠ¶æ€

**æ ¼å¼**ï¼š
- `â–¶ï¸ è¿›è¡Œä¸­`
- `â¸ï¸ æš‚åœ`
- `âœ… å·²å®Œæˆ`

**æ˜¾ç¤ºé€»è¾‘**ï¼š
```javascript
if (activity.Activity_Type === 'æ¯æ—¥äº‹é¡¹') {
  const todo = getTodo(activity.Related_Todo)

  const statusMap = {
    'è¿›è¡Œä¸­': 'â–¶ï¸è¿›è¡Œä¸­',
    'æš‚åœæ‰§è¡Œ': 'â¸ï¸æš‚åœ',
    'å·²å®Œæˆ': 'âœ…å·²å®Œæˆ'
  }

  return statusMap[todo.Status]
}
```

### 3. æµæ°´è´¦ï¼ˆğŸ“ï¼‰- ä¸æ˜¾ç¤ºçŠ¶æ€

**æ˜¾ç¤º**ï¼š`-`

---

## ğŸ¨ æ·»åŠ æ´»åŠ¨å¼¹çª—ï¼ˆå«çŠ¶æ€è®¾ç½®ï¼‰

```
â”Œâ”€ æ·»åŠ æ´»åŠ¨ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                              â”‚
â”‚ æ´»åŠ¨ç±»å‹ï¼š                                    â”‚
â”‚ â— ğŸ¯ ç³»ç»Ÿç›®æ ‡   â—‹ âœ… æ¯æ—¥äº‹é¡¹   â—‹ ğŸ“ æµæ°´è´¦   â”‚
â”‚                                              â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”     â”‚
â”‚                                              â”‚
â”‚ ã€å¦‚æœé€‰æ‹©"ç³»ç»Ÿç›®æ ‡"ã€‘                        â”‚
â”‚ å…³è”ç›®æ ‡ï¼š                                    â”‚
â”‚ [é€‰æ‹©ç›®æ ‡ â–¼]                                 â”‚
â”‚   ğŸ“š N2æ—¥è¯­ (120/500h)                       â”‚
â”‚   ğŸ’ª å‡é‡10æ–¤ (25/100h)                      â”‚
â”‚   ğŸ¸ å­¦å‰ä»– (30/200h)                        â”‚
â”‚                                              â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”     â”‚
â”‚                                              â”‚
â”‚ ã€å¦‚æœé€‰æ‹©"æ¯æ—¥äº‹é¡¹"ã€‘                        â”‚
â”‚ å…³è”å¾…åŠï¼š                                    â”‚
â”‚ [é€‰æ‹©å¾…åŠ â–¼]                                 â”‚
â”‚   ğŸ“„ å®Œæˆé¡¹ç›®æŠ¥å‘Š (è¿›è¡Œä¸­)                    â”‚
â”‚   ğŸ“§ å›å¤å®¢æˆ·é‚®ä»¶ (è¿›è¡Œä¸­)                    â”‚
â”‚   ğŸ›’ ä¹°èœ (æš‚åœæ‰§è¡Œ)                         â”‚
â”‚                                              â”‚
â”‚ æ›´æ–°å¾…åŠçŠ¶æ€ä¸ºï¼šâ­ æ–°å¢                       â”‚
â”‚ â—‹ ä¿æŒä¸å˜                                   â”‚
â”‚ â— æ ‡è®°ä¸º"å·²å®Œæˆ"                             â”‚
â”‚                                              â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”     â”‚
â”‚                                              â”‚
â”‚ æ´»åŠ¨åç§°ï¼š                                    â”‚
â”‚ [å­¦ä¹ æ—¥è¯­è¯­æ³•ç¬¬ä¸‰ç« ]                          â”‚
â”‚                                              â”‚
â”‚ æ—¶é—´æ®µï¼š                                      â”‚
â”‚ å¼€å§‹ï¼š[14] : [00 â–¼]  ç»“æŸï¼š[16] : [00 â–¼]    â”‚
â”‚ æ—¶é•¿ï¼š2.0å°æ—¶ï¼ˆè‡ªåŠ¨è®¡ç®—ï¼‰                     â”‚
â”‚                                              â”‚
â”‚ å…³è”çŸ¥è¯†åº“ï¼ˆå¯é€‰ï¼‰ï¼š                          â”‚
â”‚ [é€‰æ‹©çŸ¥è¯†åº“ â–¼]                               â”‚
â”‚                                              â”‚
â”‚ å¤‡æ³¨ï¼ˆå¯é€‰ï¼‰ï¼š                                â”‚
â”‚ [ä»Šå¤©å­¦äº†ã¾ã™å½¢çš„å˜å½¢è§„åˆ™...]                 â”‚
â”‚                                              â”‚
â”‚ [ä¿å­˜] [å–æ¶ˆ]                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—„ï¸ Activity Details å­—æ®µè®¾è®¡ï¼ˆæ›´æ–°ï¼‰

### å®Œæ•´å­—æ®µåˆ—è¡¨

| å­—æ®µå | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| Activity Name | Title | æ´»åŠ¨åç§° |
| Date | Date | æ—¥æœŸ |
| Start Time | Text | å¼€å§‹æ—¶é—´ï¼ˆHH:MMï¼‰ |
| End Time | Text | ç»“æŸæ—¶é—´ï¼ˆHH:MMï¼‰ |
| Duration | Number | æ—¶é•¿ï¼ˆåˆ†é’Ÿï¼‰ |
| Activity Type | Select | æ´»åŠ¨ç±»å‹ï¼ˆç³»ç»Ÿç›®æ ‡/æ¯æ—¥äº‹é¡¹/æµæ°´è´¦ï¼‰ |
| Related Goal | Relation | å…³è”ç›®æ ‡ï¼ˆç³»ç»Ÿç›®æ ‡å¿…å¡«ï¼‰ |
| Related Todo | Relation | å…³è”å¾…åŠï¼ˆæ¯æ—¥äº‹é¡¹å¿…å¡«ï¼‰ |
| Related Knowledge | Relation | å…³è”çŸ¥è¯†åº“ |
| **Todo Status After** | Select | â­ è®°å½•åå¾…åŠçŠ¶æ€ï¼ˆè¿›è¡Œä¸­/å·²å®Œæˆï¼‰ |
| Notes | Rich Text | å¤‡æ³¨ |
| User ID | Text | ç”¨æˆ·æ ‡è¯† |

### Todo Status After å­—æ®µè¯´æ˜

**ç”¨é€”**ï¼šè®°å½•è¿™ä¸ªæ´»åŠ¨åï¼Œå¾…åŠçš„çŠ¶æ€å˜æˆäº†ä»€ä¹ˆ

**é€‰é¡¹**ï¼š
- `è¿›è¡Œä¸­`
- `å·²å®Œæˆ`

**ä½¿ç”¨åœºæ™¯**ï¼š
```
ç”¨æˆ·è®°å½•"å†™é¡¹ç›®æŠ¥å‘Š"æ´»åŠ¨
    â†“
å‹¾é€‰"æ ‡è®°ä¸ºå·²å®Œæˆ"
    â†“
ä¿å­˜æ—¶ï¼š
  1. åˆ›å»º Activity Detailsï¼ŒTodo Status After = "å·²å®Œæˆ"
  2. æ›´æ–° Todo.Status = "å·²å®Œæˆ"
  3. ä¸‹æ¬¡åˆ·æ–°è¡¨æ ¼æ—¶ï¼Œè¯¥å¾…åŠä¸å†æ˜¾ç¤ºï¼ˆå› ä¸ºç­›é€‰æ‰å·²å®Œæˆï¼‰
```

---

## ğŸ“Š è¡¨æ ¼æ•°æ®åŠ è½½é€»è¾‘

### æŸ¥è¯¢ä»Šæ—¥æ´»åŠ¨

```javascript
// 1. æŸ¥è¯¢ä»Šæ—¥æ‰€æœ‰æ´»åŠ¨
const activities = await notionApiService.queryActivities({
  Date: today,
  User_ID: currentUser.email
})

// 2. æŒ‰æ—¶é—´æ’åº
activities.sort((a, b) => {
  return a.Start_Time.localeCompare(b.Start_Time)
})

// 3. ä¸ºæ¯ä¸ªæ´»åŠ¨è¡¥å……çŠ¶æ€ä¿¡æ¯
const enrichedActivities = await Promise.all(
  activities.map(async (activity) => {
    // è¡¥å……çŠ¶æ€åˆ—æ•°æ®
    let statusDisplay = '-'

    if (activity.Activity_Type === 'ç³»ç»Ÿç›®æ ‡') {
      // æŸ¥è¯¢å…³è”ç›®æ ‡çš„è¿›åº¦
      const goal = await notionApiService.getGoal(activity.Related_Goal)
      statusDisplay = `${goal.Current_Hours}/${goal.Target_Hours}h`

    } else if (activity.Activity_Type === 'æ¯æ—¥äº‹é¡¹') {
      // æŸ¥è¯¢å…³è”å¾…åŠçš„çŠ¶æ€
      const todo = await notionApiService.getTodo(activity.Related_Todo)
      const statusMap = {
        'è¿›è¡Œä¸­': 'â–¶ï¸è¿›è¡Œä¸­',
        'æš‚åœæ‰§è¡Œ': 'â¸ï¸æš‚åœ',
        'å·²å®Œæˆ': 'âœ…å·²å®Œæˆ'
      }
      statusDisplay = statusMap[todo.Status] || todo.Status
    }

    return {
      ...activity,
      statusDisplay
    }
  })
)
```

---

## ğŸ”„ ä¿å­˜æ´»åŠ¨çš„å®Œæ•´æµç¨‹

### åœºæ™¯1ï¼šè®°å½•ç³»ç»Ÿç›®æ ‡æ´»åŠ¨

```
ç”¨æˆ·å¡«å†™è¡¨å•ï¼š
  - æ´»åŠ¨ç±»å‹ï¼šğŸ¯ ç³»ç»Ÿç›®æ ‡
  - å…³è”ç›®æ ‡ï¼šğŸ“š N2æ—¥è¯­ (120/500h)
  - æ´»åŠ¨åç§°ï¼šå­¦ä¹ æ—¥è¯­è¯­æ³•ç¬¬ä¸‰ç« 
  - æ—¶é—´ï¼š14:00 - 16:00 (120min)
  - å…³è”çŸ¥è¯†åº“ï¼šğŸ“š æ—¥è¯­å­¦ä¹ ç¬”è®°

ç‚¹å‡»ä¿å­˜
    â†“
â‘  åˆ›å»º Activity Details
   {
     Activity Name: "å­¦ä¹ æ—¥è¯­è¯­æ³•ç¬¬ä¸‰ç« ",
     Date: "2025-11-16",
     Start Time: "14:00",
     End Time: "16:00",
     Duration: 120,
     Activity Type: "ç³»ç»Ÿç›®æ ‡",
     Related Goal: "N2æ—¥è¯­",
     Related Knowledge: "æ—¥è¯­å­¦ä¹ ç¬”è®°"
   }
    â†“
â‘¡ æ›´æ–° Goal
   Current Hours: 120 â†’ 122
    â†“
â‘¢ åˆ·æ–°è¡¨æ ¼
   çŠ¶æ€åˆ—æ˜¾ç¤ºï¼š122/500h
```

### åœºæ™¯2ï¼šè®°å½•æ¯æ—¥äº‹é¡¹å¹¶å®Œæˆ

```
ç”¨æˆ·å¡«å†™è¡¨å•ï¼š
  - æ´»åŠ¨ç±»å‹ï¼šâœ… æ¯æ—¥äº‹é¡¹
  - å…³è”å¾…åŠï¼šğŸ“„ å®Œæˆé¡¹ç›®æŠ¥å‘Š (è¿›è¡Œä¸­)
  - æ´»åŠ¨åç§°ï¼šå†™é¡¹ç›®æŠ¥å‘Š
  - æ—¶é—´ï¼š09:00 - 10:30 (90min)
  - âœ… å‹¾é€‰"æ ‡è®°ä¸ºå·²å®Œæˆ"

ç‚¹å‡»ä¿å­˜
    â†“
â‘  åˆ›å»º Activity Details
   {
     Activity Name: "å†™é¡¹ç›®æŠ¥å‘Š",
     Date: "2025-11-16",
     Start Time: "09:00",
     End Time: "10:30",
     Duration: 90,
     Activity Type: "æ¯æ—¥äº‹é¡¹",
     Related Todo: "å®Œæˆé¡¹ç›®æŠ¥å‘Š",
     Todo Status After: "å·²å®Œæˆ"  â­
   }
    â†“
â‘¡ æ›´æ–° Todo
   Status: "è¿›è¡Œä¸­" â†’ "å·²å®Œæˆ"
    â†“
â‘¢ åˆ·æ–°è¡¨æ ¼
   çŠ¶æ€åˆ—æ˜¾ç¤ºï¼šâœ…å·²å®Œæˆ
    â†“
â‘£ ä¸‹æ¬¡åŠ è½½æ—¶
   è¯¥å¾…åŠä¸å†æ˜¾ç¤ºï¼ˆå·²å®Œæˆçš„è¿‡æ»¤æ‰ï¼‰
```

### åœºæ™¯3ï¼šè®°å½•æµæ°´è´¦

```
ç”¨æˆ·å¡«å†™è¡¨å•ï¼š
  - æ´»åŠ¨ç±»å‹ï¼šğŸ“ æµæ°´è´¦
  - æ´»åŠ¨åç§°ï¼šå–å’–å•¡èŠå¤©
  - æ—¶é—´ï¼š10:30 - 11:00 (30min)

ç‚¹å‡»ä¿å­˜
    â†“
â‘  åˆ›å»º Activity Details
   {
     Activity Name: "å–å’–å•¡èŠå¤©",
     Date: "2025-11-16",
     Start Time: "10:30",
     End Time: "11:00",
     Duration: 30,
     Activity Type: "æµæ°´è´¦"
   }
    â†“
â‘¡ åˆ·æ–°è¡¨æ ¼
   çŠ¶æ€åˆ—æ˜¾ç¤ºï¼š-
```

---

## ğŸ¨ è¡¨æ ¼æ ·å¼è®¾è®¡

### ä¸åŒç±»å‹çš„è§†è§‰åŒºåˆ†

```css
/* ç³»ç»Ÿç›®æ ‡ - è“è‰²è°ƒ */
.activity-row.system-goal {
  background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
  border-left: 4rpx solid #3b82f6;
}

.activity-row.system-goal .status-cell {
  color: #2563eb;
  font-weight: 600;
}

/* æ¯æ—¥äº‹é¡¹ - é»„è‰²è°ƒ */
.activity-row.daily-task {
  background: linear-gradient(135deg, #fefce8 0%, #fef3c7 100%);
  border-left: 4rpx solid #eab308;
}

.activity-row.daily-task .status-cell {
  color: #ca8a04;
  font-weight: 600;
}

/* æµæ°´è´¦ - ç°è‰²è°ƒ */
.activity-row.journal {
  background: #f9fafb;
  border-left: 4rpx solid #d1d5db;
}

.activity-row.journal .status-cell {
  color: #9ca3af;
}

/* çŠ¶æ€å›¾æ ‡ */
.status-icon {
  font-size: 24rpx;
  margin-right: 4rpx;
}
```

### è¡¨æ ¼ç´§å‡‘å¸ƒå±€

```css
.activity-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 24rpx;
}

.activity-table th {
  background: #f3f4f6;
  padding: 12rpx 8rpx;
  font-weight: 600;
  color: #374151;
  border-bottom: 2rpx solid #e5e7eb;
}

.activity-table td {
  padding: 16rpx 8rpx;
  border-bottom: 1rpx solid #f3f4f6;
  vertical-align: middle;
}

/* æ—¶é—´åˆ— */
.time-cell {
  font-family: 'Monaco', 'Courier New', monospace;
  font-size: 22rpx;
  color: #6b7280;
  white-space: nowrap;
}

/* æ´»åŠ¨åç§°åˆ— */
.activity-name-cell {
  font-weight: 500;
  color: #1f2937;
}

/* å…³è”åˆ— */
.relation-cell {
  font-size: 20rpx;
  color: #6b7280;
  line-height: 1.4;
}

/* çŠ¶æ€åˆ— */
.status-cell {
  font-size: 20rpx;
  font-weight: 600;
  white-space: nowrap;
}

/* æ—¶é•¿åˆ— */
.duration-cell {
  text-align: right;
  font-weight: 600;
  color: #374151;
}
```

---

## ğŸ“‹ å®Œæ•´å®ç°æ¸…å•

### 1. æ•°æ®åº“å­—æ®µæ›´æ–°

**Activity Details å¢åŠ **ï¼š
- `Todo Status After`ï¼ˆSelectï¼‰

**Goals å¢åŠ **ï¼š
- `Is System Managed`ï¼ˆCheckboxï¼‰
- `Daily Target Hours`ï¼ˆNumberï¼‰

### 2. è¶³è¿¹é¡µé¢æ”¹é€ 

**history.wxml**ï¼š
- ç»Ÿè®¡å¡ç‰‡ï¼ˆæ€»æ—¶é•¿ã€åˆ†ç±»æ—¶é•¿ï¼‰
- æ´»åŠ¨æ˜ç»†è¡¨æ ¼ï¼ˆ7åˆ—ï¼‰
- æ·»åŠ æ´»åŠ¨æŒ‰é’®

**history.js**ï¼š
- åŠ è½½ä»Šæ—¥æ´»åŠ¨å¹¶æ’åº
- è¡¥å……çŠ¶æ€åˆ—æ•°æ®
- æ·»åŠ æ´»åŠ¨å¼¹çª—é€»è¾‘
- ä¿å­˜æ´»åŠ¨å¹¶æ›´æ–°ç›®æ ‡/å¾…åŠ

**history.wxss**ï¼š
- è¡¨æ ¼æ ·å¼
- ä¸‰ç§æ´»åŠ¨ç±»å‹çš„é¢œè‰²åŒºåˆ†

### 3. ç›®æ ‡ç¼–è¾‘é¡µé¢

**goals-todos.wxml**ï¼š
- å¢åŠ "ç³»ç»Ÿç®¡ç†"å‹¾é€‰æ¡†

**goals-todos.js**ï¼š
- ä¿å­˜æ—¶åŒ…å«ç³»ç»Ÿç®¡ç†å­—æ®µ

### 4. Notion API æœåŠ¡

**notionApiService.js**ï¼š
- `queryActivities(date, userId)` - æŸ¥è¯¢æ´»åŠ¨
- `updateGoalProgress(goalId, hours)` - æ›´æ–°ç›®æ ‡è¿›åº¦
- `updateTodoStatus(todoId, status)` - æ›´æ–°å¾…åŠçŠ¶æ€

---

## âœ… æ ¸å¿ƒä¼˜åŠ¿

1. **çŠ¶æ€ä¸€ç›®äº†ç„¶**ï¼š
   - ç³»ç»Ÿç›®æ ‡ï¼šç›´æ¥çœ‹åˆ°è¿›åº¦å˜åŒ–
   - æ¯æ—¥äº‹é¡¹ï¼šç›´æ¥çœ‹åˆ°å¾…åŠçŠ¶æ€
   - æµæ°´è´¦ï¼šç®€å•è®°å½•

2. **å¿«é€Ÿå®Œæˆå¾…åŠ**ï¼š
   - è®°å½•æ´»åŠ¨æ—¶å¯ç›´æ¥æ ‡è®°å¾…åŠå®Œæˆ
   - å·²å®Œæˆçš„å¾…åŠè‡ªåŠ¨éšè—

3. **è¿›åº¦è‡ªåŠ¨æ›´æ–°**ï¼š
   - è®°å½•ç³»ç»Ÿç›®æ ‡æ´»åŠ¨æ—¶è‡ªåŠ¨ç´¯åŠ è¿›åº¦
   - ä¸éœ€è¦æ‰‹åŠ¨æ›´æ–°

4. **æ—¶é—´è½´æ¸…æ™°**ï¼š
   - æ‰€æœ‰æ´»åŠ¨æŒ‰æ—¶é—´æ’åº
   - ä¸€çœ¼çœ‹æ¸…ä¸€å¤©çš„æ—¶é—´åˆ†é…

---

*æœ€ç»ˆè®¾è®¡æ—¥æœŸï¼š2025å¹´11æœˆ16æ—¥*
