# 语寄心声微信小程序

一个优雅的日常备忘录微信小程序，支持文字和语音记录，帮助用户记录生活的美好时光。

## 🌟 核心功能

### 📝 多样化记录方式
- **文字记录**：支持快速文字输入，提供常用模板
- **语音记录**：支持语音转文字，保留原始音频
- **智能标签**：预设标签分类，支持自定义标签

### 🎯 每日箴言系统
- 每日随机推送正能量箴言
- 15句精心挑选的生活感悟
- 帮助用户保持积极心态

### ⏰ 智能提醒功能
- 可自定义提醒间隔（30分钟-8小时）
- 温馨提醒记录生活点滴
- 支持开启/关闭提醒

### 📊 时间线展示
- 美观的时间线界面
- 支持筛选（全部/文字/语音/今天）
- 实时搜索功能
- 语音播放控制

### 🗂️ 高级历史管理
- 按日期分组展示
- 多维度筛选（标签、时间范围、类型）
- 灵活排序方式
- 统计数据展示

### 📋 每日规划重点
- **明日规划模式**：专门的规划记录界面
- **首页突出显示**：显示昨日规划作为今日重点
- **智能提醒**：晚上21点后提醒记录明日规划
- **视觉区分**：规划记录采用橙色主题突出显示

## 🎨 界面特色

### 现代化设计
- 渐变色彩搭配
- 圆角卡片设计
- 优雅的动画效果
- 响应式布局

### 用户体验优化
- 直观的操作界面
- 流畅的页面切换
- 智能的状态反馈
- 友好的空状态提示

## 📱 页面结构

```
├── 首页 (home)
│   ├── 每日箴言展示
│   ├── 快速统计信息
│   ├── 快速记录入口
│   ├── 最近记录预览
│   └── 提醒设置
├── 记录页 (memo)
│   ├── 文字/语音切换
│   ├── 录音功能
│   ├── 语音转文字
│   ├── 标签管理
│   └── 快速模板
├── 时间线 (timeline)
│   ├── 搜索筛选
│   ├── 记录列表
│   ├── 播放控制
│   └── 操作管理
└── 历史记录 (history)
    ├── 日期选择
    ├── 统计展示
    ├── 高级筛选
    └── 分组显示
```

## 🛠️ 技术特性

### 核心技术
- **框架**：微信小程序原生开发
- **语言**：JavaScript ES6+
- **样式**：WXSS + CSS3动画
- **存储**：本地存储 (localStorage)

### 音频处理
- 录音管理器 (RecorderManager)
- 音频播放器 (InnerAudioContext)
- 语音转文字（可集成第三方API）

### 数据管理
- 全局状态管理
- 本地数据持久化
- 增删改查完整操作

## 📋 功能清单

### ✅ 已完成功能
- [x] 项目结构搭建
- [x] 首页界面设计
- [x] 箴言库系统
- [x] 文字记录功能
- [x] 语音录制功能
- [x] 时间线展示
- [x] 历史记录管理
- [x] 定时提醒系统
- [x] 本地数据存储
- [x] 界面美化优化
- [x] **每日规划功能**
- [x] **规划记录模式**
- [x] **明日规划重点显示**
- [x] **智能规划提醒**

### ☁️ Notion云端同步（已完成）
- [x] **多用户支持**：完全的用户数据隔离
- [x] **双向同步**：本地←→Notion数据库同步
- [x] **离线优先**：本地数据优先，有网络时自动同步
- [x] **批量处理**：支持批量同步历史数据
- [x] **微信云开发集成**：通过云函数安全调用Notion API

### 🚀 扩展功能建议
- [ ] 真实语音识别API集成
- [ ] 图片记录功能
- [ ] 数据导出功能
- [ ] 主题切换
- [ ] 分享功能
- [ ] 数据统计图表

## 🎯 使用指南

### 快速开始
1. 使用微信开发者工具导入项目
2. 配置项目appid（project.config.json）
3. 预览或上传小程序

### 核心操作
1. **记录生活**：首页点击"文字记录"或"语音记录"
2. **规划明天**：首页点击"明日规划"或晚上21点后的智能提醒
3. **查看时间线**：底部导航切换到"时间线"
4. **历史管理**：底部导航切换到"历史记录"
5. **设置提醒**：首页调整提醒开关和间隔

### 语音功能使用
1. 进入语音记录模式
2. 长按录音按钮开始录制
3. 松开按钮完成录制
4. 系统自动进行语音识别
5. 可手动编辑识别结果

## 🔧 配置说明

### 权限配置
```json
{
  "permission": {
    "scope.record": {
      "desc": "需要录音权限来支持语音输入功能"
    }
  }
}
```

### 主要配置项
- 最大记录长度：500字符
- 录音时长限制：60秒
- 提醒间隔范围：30分钟-8小时
- 页面加载数量：20条/页

## 📝 开发说明

### 项目结构
```
memo-miniprogram/
├── app.js                 # 应用入口
├── app.json              # 应用配置
├── app.wxss              # 全局样式
├── pages/                # 页面目录
│   ├── home/            # 首页
│   ├── memo/            # 记录页
│   ├── timeline/        # 时间线
│   └── history/         # 历史记录
├── utils/               # 工具函数
├── components/          # 自定义组件
├── images/             # 图片资源
└── project.config.json # 项目配置
```

### 关键文件说明
- `app.js`：全局应用逻辑，包含数据管理和工具方法
- `utils/util.js`：通用工具函数库
- 各页面`.js`文件：页面逻辑和交互处理
- 各页面`.wxss`文件：页面样式和动画效果

## 🎨 设计理念

### 色彩方案
- 主色调：靛蓝渐变 (#6366f1 → #8b5cf6)
- 辅助色：暖橙色 (#ef4444 → #f97316)
- 背景色：浅灰蓝 (#f8fafc)
- 文字色：深灰 (#1f2937)

### 交互原则
- 简洁直观的操作流程
- 温和的视觉反馈
- 一致的设计语言
- 适度的动画效果

---

💝 **用心记录，用爱生活**

这个小程序致力于帮助用户养成记录生活的好习惯，让每个平凡的日子都变得珍贵有意义。